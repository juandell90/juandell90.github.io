<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Test Google translate</title>
        <style>
           .skiptranslate, #google_translate_element {display: none;}
            body {min-height: 0px !important; position: static !important; top: 0px !important;}
        </style>
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    </head>
    <body>

    <div id="google_translate_element"></div>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            $.when(
                new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'es',
                    layout: google.translate.TranslateElement.FloatPosition.TOP_LEFT}, 'google_translate_element')
            ).done(function(){
                var select = document.getElementsByClassName('goog-te-combo')[0];
                select.selectedIndex = 1;
                select.addEventListener('click', function () {
                    select.dispatchEvent(new Event('change'));
                });
                select.click();
            });
        }
    </script>
    </body>
    </html>

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - Movie Showcase</title>
  <link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'><link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
      <iframe src="" id="video" allowscriptaccess="always" allow="autoplay" style="border: none;width: 640px; height: 360px; max-width: 90%;"></iframe>
  </div>


                     
                      <div class="tab">

	<ul class="tabs">
		<li><a href="#">Latino</a></li>
		<li><a href="#">Castellano</a></li>
		<li><a href="#">Ingles</a></li>
		<li><a href="#">otro servidor</a></li>
	</ul> <!-- / tabs -->

	<div class="tab_content">

		<div class="tabs_item">
        
        <aside class="video-options">
        
			<li><a href="https://ok.ru/videoembed/3784046021263?autoplay=1" class="btn third" >Ver</a><div  class="visto"><input class="tgl tgl-flip" id="70935" type="checkbox" type="checkbox" store="70935"><label class="tgl-btn" data-tg-off="No visto" data-tg-on="Visto" for="70935"></label></div><br>Codigo<br>70935<br><br>

		</div> <!-- / tabs_item -->

		<div class="tabs_item">
	   <aside class="video-options">
        
		<li><a href="https://ok.ru/videoembed/3840043256492?autoplay=1" class="btn third" >Ver</a><div  class="visto"><input class="tgl tgl-flip" id="24360" type="checkbox" type="checkbox" store="24360"><label class="tgl-btn" data-tg-off="No visto" data-tg-on="Visto" for="24360"></label></div><br>Codigo<br>24360<br><br>
</div>
		<div class="tabs_item">
			 <aside class="video-options">
             
             		<li><a href="https://ok.ru/videoembed/3320941906537?autoplay=1" class="btn third" >Ver</a><div  class="visto"><input class="tgl tgl-flip" id="40376" type="checkbox" type="checkbox" store="40376"><label class="tgl-btn" data-tg-off="No visto" data-tg-on="Visto" for="40376"></label></div><br>Codigo<br>40376<br><br>
             
		</div> 
        
        <div class="tabs_item">
			 <aside class="video-options">
             
             
             
		</div> 
        
        <!-- / tabs_item -->
		
	</div> <!-- / tab_content -->
</div> <!-- / tab -->
                     
                     
                     

   
    
		
                
                
                
                
                





    
    
    
    
    
    </ul>
    
    </div>
    
    <link rel="stylesheet" href="https://juandell90.github.io/playmedia/stylepel.css" />
<script src="https://juandell90.github.io/playmedia/scriptpel.js"></script>
    
    
    
    
    



<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script><script  src="./script.js"></script>

</body>
</html>




<script>
$(document).ready(function() { 

	(function ($) { 
		$('.tab ul.tabs').addClass('active').find('> li:eq(0)').addClass('current');
		
		$('.tab ul.tabs li a').click(function (g) { 
			var tab = $(this).closest('.tab'), 
				index = $(this).closest('li').index();
			
			tab.find('ul.tabs > li').removeClass('current');
			$(this).closest('li').addClass('current');
			
			tab.find('.tab_content').find('div.tabs_item').not('div.tabs_item:eq(' + index + ')').slideUp();
			tab.find('.tab_content').find('div.tabs_item:eq(' + index + ')').slideDown();
			
			g.preventDefault();
		} );
	})(jQuery);

});
</script>
<a  id="projects"><p class="basket-toggle">
		
		
	</p></a>

		

 
 
 
 
 

  <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.min.js'></script>




 

<script>

let basket = new Vue({
  el: "#bsk",
  data: {
    items: [],
    storagename: '_local_basket_',
    sendWindow: false,
    name: '',
    email: '',
    phone: '',
    bannerContent: '',
    bannerStatus: false,
    outputLink: null },

  methods: {
    changeStorage(type, id) {
      if (type === "add") {
        this.items.forEach(item => {
          if (item.id === id) {
            item.amount = item.amount += 1;
          }
        });
      } else if (type === "delete") {
        this.items = this.items.filter(item => item.id !== id);
      } else if (type === 'count_down') {
        this.items.forEach(item => {
          if (item.id === id) {
            if (item.amount > 0) {
              item.amount -= 1;
            }
          }
        });
      }
      this.localStorageActions();
    },
    getDB() {
      this.items = JSON.parse(localStorage.getItem('_local_basket_')) || [];
    },
    setBasketAmount(element) {
      this.outputLink = element;
    },
    setAmount() {
      this.outputLink.innerHTML = `( ${this.items.length} )`;
    },
    localStorageActions() {
      localStorage.removeItem(this.storagename);
      let sendData = JSON.stringify(this.items);
      localStorage.setItem(this.storagename, sendData);
    },
    minMeth(id) {
      this.changeStorage('count_down', id);
    },
    maxMeth(id) {
      this.changeStorage('add', id);
    },
    delMeth(id) {
      this.changeStorage('delete', id);
      this.setAmount();
    },
    toggleSendWindow() {
      this.sendWindow = !this.sendWindow;
    },
    sendOrder() {
      let order = {
        items: this.items,
        totals: this.getTotal(),
        self: {
          name: this.name,
          email: this.email,
          phone: this.phone } };


      this.banner('You order send!');
      if (order.self.name && order.self.email && order.self.phone) {
        //alert('And now AXIOS time!!!!')
      }
    },
    banner(content) {
      this.bannerContent = content;
      this.bannerStatus = true;
      setTimeout(() => {this.bannerStatus = false;}, 1000);
    },
    getTotal() {
      let output = { w: 0, p: 0 };
      this.items.forEach(item => {
        output.w += +item.weight * +item.amount;
        output.p += +item.price * +item.amount;
      });
      return output;
    } },

  created() {
    this.items = JSON.parse(localStorage.getItem('_local_basket_')) || [];
    this.setAmount();
  },
  mounted() {

  },
  computed: {
    getTotalValues() {
      let output = { w: 0, p: 0 };
      this.items.forEach(item => {
        output.w += +item.weight * +item.amount;
        output.p += +item.price * +item.amount;
      });
      return output;
    },
    emptyArray() {
      return this.items.length === 0 ? true : false;
    } } });



class BasketComponent {
  constructor() {
    this.namespace = 'basket-component';
    this.storagename = '_local_basket_';
    this.addClasses = ['card-item__add-button'];
    this.toggleBasketElement = document.querySelector('.basket-toggle');
    this.basket = document.querySelector(`.${this.namespace}`);
    this.counter = document.querySelector('.basket-toggle__counter');

    this.init();
  }
  toggleBasket() {
    this.toggleBasketElement.addEventListener('click', () => {
      this.basket.classList.toggle('basket-component--isActive');
    });
  }
  setControllers() {
    let elements = [];
    this.addClasses.forEach(v => {
      let e = document.querySelectorAll(`.${v}`);
      elements = [...elements, ...e];
    });
    elements.forEach(element => {
      element.addEventListener('click', e => {
        let currentDataClick = {
          "id": e.target.getAttribute('data-item-id'),
          href: e.target.getAttribute("data-item-href"),
          "img": e.target.getAttribute('data-item-img'),
          "name": e.target.getAttribute('data-item-name'),
          "weight": e.target.getAttribute('data-item-weight'),
          "price": e.target.getAttribute('data-item-price'),
          "amount": 1 };

        this.localStorageActions('add', currentDataClick);
        basket.getDB();
        this.counter.textContent = `( ${JSON.parse(localStorage.getItem('_local_basket_')).length} )`;
      });
    });
  }
  outputLink() {
    return this.counter;
  }
  localStorageActions(type, value, storage_data_base) {

    let data = JSON.parse(localStorage.getItem(this.storagename)) || [],
    middleValue = '',
    sendData = '';

    function isContain() {
      if (data.length !== 0) {
        return data.find(v => v.id === value.id);
      }
      return false;
    }

    let filterElements = data.filter(element => value.id !== element.id);
    let findElement = data.find(element => value.id === element.id);

    if (type === 'add') {
      if (isContain()) {
        let currentAmount = +findElement.amount;
        currentAmount += 1;
        let fe = { ...findElement, amount: currentAmount };
        middleValue = [...filterElements, fe];
      } else
      {
        middleValue = [...data, value];
      }
    }
    sendData = JSON.stringify(middleValue);
    localStorage.setItem(this.storagename, sendData);
  }
  initBasketLength() {
    let bsk = JSON.parse(localStorage.getItem('_local_basket_'));
    this.counter.textContent = `( ${bsk ? bsk.length : 0} )`;
  }
  init() {
    this.toggleBasket();
    this.setControllers();
    this.initBasketLength();
  }}


let _basket = new BasketComponent();

basket.setBasketAmount(_basket.outputLink());




</script>









</div>

<!-- partial -->
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js'></script><script  src="./script.js"></script>

</body>
</html>

<style>
@charset "UTF-8";
@import url("https://fonts.googleapis.com/css?family=Montserrat:300,400,700,800");
* {
  box-sizing: border-box;
  margin: 0;
}

html, body {
  margin: 0;
  background: black;
  font-family: "Montserrat", helvetica, arial, sans-serif;
  font-size: 14px;
  font-weight: 400;
}

.movie_card {
  position: relative;
  display: block;
  width: 100%;
  height: 350px;
  margin: 100px auto;
  overflow: hidden;
  border-radius: 12px;
  transition: all 0.4s ease-in-out;
}
.movie_card:hover {
  transform: scale(1.02);
}
.movie_card .info_section {
  position: relative;
  width: 100%;
  height: 100%;
  background-blend-mode: multiply;
  z-index: 2;
  border-radius: 10px;
}
.movie_card .info_section .movie_header {
  position: relative;
  padding: 15px;
  height: 45%;
  display: inline-block;
}
.movie_card .info_section .movie_header h1 {
  color: #fff;
  font-weight: 400;
}
.movie_card .info_section .movie_header h4 {
  color: #9ac7fa;
  font-weight: 400;
}
.movie_card .info_section .movie_header .minutes {
  display: inline-block;
  margin-top: 10px;
  color: #fff;
  padding: 5px;
  border-radius: 5px;
  border: 1px solid rgba(255, 255, 255, 0.13);
}
.movie_card .info_section .movie_header .type {
  display: inline-block;
  color: #cee4fd;
  margin-left: 2px;
  font-size: 10px;
}
.movie_card .info_section .movie_header .rating::before {
  content: "★ ";
  color: yellow;
}
.movie_card .info_section .movie_header .rating {
  color: #fff;
  padding: 5px;
  margin-top: 5px;
  color: white;
}
.movie_card .info_section .movie_header .rating::after {
  color: #6b6b6b;
  content: "/10";
  font-size: x-small;
}
.movie_card .info_section .movie_header .poster {
  position: relative;
  float: left;
  margin-right: 20px;
  height: 120px;
  box-shadow: 0 0 20px -10px rgba(0, 0, 0, 0.5);
}
.movie_card .info_section .movie_desc {
  padding: 15px;
  height: 45%;
  display: flex;
  align-items: center;
}
.movie_card .info_section .movie_desc .text {
  color: #cfd6e1;
}
.movie_card .info_section .movie_social {
  height: 10%;
  padding-left: 15px;
  padding-bottom: 20px;
  bottom: 0;
  position: absolute;
}
.movie_card .info_section .movie_social ul {
  list-style: none;
  padding: 0;
}
.movie_card .info_section .movie_social ul li {
  display: inline-block;
  color: rgba(255, 255, 255, 0.4);
  transition: color 0.3s;
  transition-delay: 0.15s;
  margin: 0 10px;
}
.movie_card .info_section .movie_social ul li:hover {
  transition: color 0.3s;
  color: rgba(255, 255, 255, 0.8);
}
.movie_card .info_section .movie_social ul li i {
  font-size: 19px;
  cursor: pointer;
}
.movie_card .info_section .movie_trailer {
  height: 10%;
  display: inline-block;
  padding: 0 15px;
  width: 50%;
  position: absolute;
  bottom: 0px;
}
.movie_card .info_section .movie_trailer a {
  color: cornflowerblue;
  text-decoration: none;
}
.movie_card .blur_back {
  position: absolute;
  top: 1px;
  z-index: 1;
  height: calc(100% - 2px);
  right: 0;
  background-size: cover;
  border-radius: 11px;
}

@media screen and (min-width: 768px) {
  .movie_header {
    width: 55%;
  }

  .movie_desc {
    width: 50%;
  }

  .info_section {
    background: linear-gradient(to right, #0d0d0c 50%, transparent 100%);
  }

  .blur_back {
    width: 80%;
    background-position: -100% 10% !important;
  }
}
@media screen and (max-width: 768px) {
  .movie_card {
    width: 98%;
    margin: 70px auto;
    height: auto;
  }

  .blur_back {
    width: 100%;
    background-position: 50% 50% !important;
  }

  .movie_header {
    width: 100%;
    margin-top: 85px;
  }

  .movie_desc {
    width: 100%;
  }

  .info_section {
    background: linear-gradient(to top, #141413 50%, transparent 100%);
    display: inline-grid;
  }
}
.shadow {
  box-shadow: 0px 0px 150px -45px rgba(19, 160, 134, 0.6);
}
.shadow:hover {
  box-shadow: 0px 0px 120px -55px rgba(19, 160, 134, 0.6);
}

/* The Modal (background) */
.modal {
  display: none;
  /* Hidden by default */
  justify-content: center;
  align-items: center;
  position: fixed;
  /* Stay in place */
  z-index: 9999;
  /* Sit on top */
  left: 0;
  top: 0;
  width: 100%;
  /* Full width */
  height: 100%;
  /* Full height */
  overflow: hidden;
  /* Enable scroll if needed */
  background-color: black;
  /* Fallback color */
  background-color: rgba(50, 50, 50, 0.6);
  /* Black w/ opacity */
  animation-name: fadeIn;
  animation-duration: 0.4s;
  outline: 0;
}

/* Modal Content/Box */
.modal-content {
  text-align: center;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
</style>

<script>
let movies = [
  'Spider-Man: No Way Home',
  
];

let bg = "https://image.tmdb.org/t/p/w500";
let trailer = "https://www.youtube.com/embed/";
let tmdb = "https://api.themoviedb.org/3/search/movie?api_key=6c9b5c029aa3014528d8176bc2e6cf9a&query=";
let omdb_search = "https://www.omdbapi.com/?apikey=a28f4e28&t=";
let tmdb_t1 = "https://api.themoviedb.org/3/movie/";
let tmdb_t2 = "/videos?api_key=6b8e3eaa1a03ebb45642e9531d8a76d2&language=en-ES";

for (let i = 0; i < movies.length; i++) {
  fetch(omdb_search + movies[i])
    .then(response => {
    return response.json();
  })
    .then(movie => {
    $("body").append(`
      <div id="${i}" class="movie_card shadow">
        <div class="info_section">
          <div class="movie_header">
            <img class="poster" src="${movie.Poster}"/>
            <h1>${movie.Title}</h1>
            <h4>${movie.Year}, ${movie.Director}</h4>
            <span class="minutes">${movie.Runtime}</span>
            <p class="type">${movie.Genre}</p>
            <p class="rating">${movie.imdbRating}</p>
          </div>
          <div class="movie_desc">
            <p class="text">
              ${movie.Plot}
            </p>
          </div>
          <div class="movie_trailer">
            <span>
              <a id="${i}-trailer" title="Watch Trailer for ${movie.Title}" href="#">Watch movie</a>
            </span>
          </div>
        </div>
        <div id="${i}-bg" class="blur_back"></div>
      </div>
      `);

//    <div class="movie_social">
//      <ul>
//      <li><i class="material-icons">share</i></li>
//        <li><i class="material-icons"></i></li>
//          <li><i class="material-icons">chat_bubble</i></li>
//            </ul>
//    </div>
    
    return fetch(`${tmdb}${movies[i]}`)
      .then(response => {
      return response.json();
    })
      .then(movieextra => {
      $(`#${i}-bg`).css({
        "background": `url('${bg + movieextra.results[0].backdrop_path}')`, 
        "background-repeat" : "no-repeat",
        "background-size" : "cover"
      });
      
      $(`#${i}-trailer`).on('click',function() {
        loadTrailer(`${movieextra.results[0].id}`);
        return false;
      });
    });
  })
}

function loadTrailer(uID) {
  fetch(tmdb_t1 + uID + tmdb_t2)
    .then(response => response.json())
    .then(data => {
    for (let x = 0; x < data.results.length; x++) {
      if(data.results[x].type == "Trailer" && data.results[x].site == "YouTube"){
        var modal = document.getElementById("myModal");
        modal.style.display = "flex";
        $("#video").attr('src',trailer + data.results[x].key + "?autoplay=1&modestbranding=1&showinfo=0"); 
        break;
      }
    }
  });
}

// Get the modal
var modal = document.getElementById("myModal");

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
    $("#video").attr('src',''); 
  }
}
</script>

